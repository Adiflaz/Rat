<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import {
    getAuth,
    signInWithEmailAndPassword,
    onAuthStateChanged
  } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyCg5jaxHtALGbHssWD6sk7EklZsj3EFSLk",
    authDomain: "auth-rat.firebaseapp.com",
    projectId: "auth-rat",
    storageBucket: "auth-rat.appspot.com",
    messagingSenderId: "211012554206",
    appId: "1:211012554206:web:f0697a1b9289659754a14f"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  window.login = function () {
    signInWithEmailAndPassword(
      auth,
      document.getElementById("email").value,
      document.getElementById("password").value
    ).catch(e => alert(e.message));
  };

  onAuthStateChanged(auth, user => {
    if (user) window.location.href = "index.html";
  });
</script>
